<div class="container">
    <div class="title">Almighty </div>
    <div class="container multiForm">
        <h2 class="mx-4 my-3 pb-4">SignUp</h2>
        <form #userForm="ngForm" (ngSubmit)="addUser(userForm.value)" style="width: 100%;" class="px-4">
            <div class="mb-3">
                <label for="username">Username</label>
                <input type="text" class="form-control" 
                        id="username"
                        name="username" 
                        #username="ngModel"
                        required
                        placeholder="Enter Your Name"
                        aria-describedby="emailHelp" ngModel>
                @if (username.invalid && (username.dirty || username.touched)) {
                    <div  id="error" class="form-text">*Please Enter a Valid Email</div>
                }
            </div>
            
            <div class="mb-3 mt-4">
                <label for="email">Email</label>
                <input type="email" class="form-control"
                        id="exampleInputEmail1" 
                        aria-describedby="emailHelp"
                        placeholder="Enter Your Email"
                        name="email"
                        #email = "ngModel"
                        required
                        ngModel>
                @if (email.invalid && (email.dirty || email.touched)) {
                    <div id="error" class="form-text">*Please Enter a Valid Email</div>
                }
            </div>

            <div class="mb-3 mt-4 passwordForm">
                <label for="password">Password  </label>
                <input [type] = "showPassword()? 'text': 'password'" 
                        class="form-control" 
                        placeholder="Enter a Password"
                        id="password"
                        name="password"
                        #password = "ngModel"
                        required
                        pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}"
                        minlength="8"
                        maxlength="15"
                        ngModel>
                @if (!showPassword()) {
                    <i (click)="togglePassword()"
                        class="fa-solid fa-eye">
                    </i>
                }
                @else {
                <i (click)="togglePassword()" class="fa-solid fa-eye-slash"></i>
                }

                @if (password.invalid && (password.touched || password.dirty)) {
                    <div id="error" class="form-text">*Please Enter a Valid Password</div>
                }
            </div>

            <!-- User Error section -->
            @if(userError()){
                <div class="userError text-danger mb-3 ps-2">
                    <i class="fa-solid fa-triangle-exclamation text-warning"></i>
                    {{userError()}}
                </div>
            }

            <button type="submit" [disabled]="userForm.invalid" class="btn btn-primary mt-3">Sign Up</button>

            <p class="mt-3">Existing User? <a routerLink="/signin">SignIn</a> Now!</p>
        </form>
    </div>
</div>
